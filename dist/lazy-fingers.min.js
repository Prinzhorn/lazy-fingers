/*! lazy-fingers 0.0.1 (2013-10-05) | Alexander Prinzhorn - https://github.com/Prinzhorn/lazy-fingers | Free to use under terms of MIT license */
!function(a,b){"use strict";var c=a.LazyFingers=function(a){a=a||{},this.options={idAttribute:a.idAttribute||"id",indexAttribute:a.indexAttribute||"name"},this._index=[],this._documentsById={}};c.fn=c.prototype,c.fn.add=function(a){for(var c,d,e=0,f=a.length,g=this.options.indexAttribute,h=this.options.idAttribute,i=this._documentsById,j=this._index;f>e;e++)c=a[e],d=c[g],i[c[h]]=c,d!==b&&null!==d&&(d=(""+d).toLowerCase(),j.push({data:d,doc:c}))},c.fn.find=function(a){if(a=a.replace(/\s+/g,"").toLowerCase(),!a.length)return[];a=a.split(""),a=e(a);for(var b,c,d,f,g,h,i,j,k=new RegExp("("+a.join(").*(")+")"),l=[],m=this._index,n=0,o=m.length;o>n;n++)b=m[n],c=b.data,d=!1,c.replace(k,function(){for(d=!0,f=[],g=1,h=arguments.length-2,j=0;h>g;g++)i=arguments[g],j=c.indexOf(i,j),f.push(j),j++}),d&&l.push({doc:b.doc,positions:f});return l},c.wrap=function(a,b,c){for(var d,e,f=0,g=0,h=b.length;h>g;g++)e=b[g]+f,d=c(a.charAt(e)),a=a.slice(0,e)+d+a.slice(e+1),f+=d.length-1;return a};var d=function(a){return a.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")},e=function(a){for(var b=0,c=a.length,e=[];c>b;b++)e.push(d(a[b]));return e}}(window);